var c=JSON.parse(document.currentScript.dataset.config);window.__proseEditor=c;function B(l,t,o){let{Editor:s,extensions:i,Blockquote:n,Bold:u,BulletList:a,Heading:p,HorizontalRule:b,Italic:f,ListItem:g,OrderedList:h,Strike:_,Subscript:m,Superscript:k,Underline:S,Link:E,Menu:v,NoSpellCheck:w,Typographic:I,crel:L}=l,y=r=>A=>r!=null&&r.length?r.includes(A):!0,d=L("div",{className:"prose-editor"});t.before(d),d.append(t);let e=y(o.types),z=new s({element:d,editable:!t.hasAttribute("disabled"),extensions:[...i.base,e("blockquote")&&n,e("strong")&&u,e("bullet_list")&&a,e("heading")&&p,e("horizontal_rule")&&b,e("em")&&f,e("link")&&E.configure({openOnClick:!1}),(e("bullet_list")||e("ordered_list"))&&g,e("ordered_list")&&h,e("strikethrough")&&_,e("sub")&&m,e("sup")&&k,e("underline")&&S,v.configure({config:o}),w,o.typographic?I:null].filter(Boolean),content:t.value,onUpdate({editor:r}){t.value=r.getHTML(),t.dispatchEvent(new Event("input",{bubbles:!0}))},onDestroy(){d.replaceWith(t)}});return()=>{z.destroy()}}import(c.editorJS).then(l=>{c.editor=l;let t="data-django-prose-editor";function o(i){for(let n of i.querySelectorAll(`[${t}]`))n.id.includes("__prefix__")||(B(l,n,JSON.parse(n.getAttribute(t))),n.removeAttribute(t))}function s(){let i;(i=window.django)&&(i=i.jQuery)&&i(document).on("formset:added",n=>{o(n.target)})}o(document),s()});
