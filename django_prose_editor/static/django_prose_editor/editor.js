var e,t,s={"./src/editor.js":function(e,t,s){let i;var o=s("./node_modules/@tiptap/core/dist/index.js");s("./node_modules/@tiptap/extension-document/dist/index.js"),s("./node_modules/@tiptap/extension-dropcursor/dist/index.js"),s("./node_modules/@tiptap/extension-gapcursor/dist/index.js"),s("./node_modules/@tiptap/extension-history/dist/index.js"),s("./node_modules/@tiptap/extension-paragraph/dist/index.js"),s("./node_modules/@tiptap/extension-hard-break/dist/index.js"),s("./node_modules/@tiptap/extension-text/dist/index.js"),s("./node_modules/@tiptap/extension-blockquote/dist/index.js"),s("./node_modules/@tiptap/extension-bold/dist/index.js"),s("./node_modules/@tiptap/extension-bullet-list/dist/index.js"),s("./node_modules/@tiptap/extension-heading/dist/index.js"),s("./node_modules/@tiptap/extension-horizontal-rule/dist/index.js"),s("./node_modules/@tiptap/extension-italic/dist/index.js"),s("./node_modules/@tiptap/extension-list-item/dist/index.js"),s("./node_modules/@tiptap/extension-ordered-list/dist/index.js"),s("./node_modules/@tiptap/extension-strike/dist/index.js"),s("./node_modules/@tiptap/extension-subscript/dist/index.js"),s("./node_modules/@tiptap/extension-superscript/dist/index.js"),s("./node_modules/@tiptap/extension-underline/dist/index.js");let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);if(t)for(let[e,s]of Object.entries(t))/^data-|^aria-|^role/.test(e)?i.setAttribute(e,s):i[e]=s;return i.append(...s),i};function a(){return i||(i=JSON.parse(document.querySelector("#django-prose-editor-settings").textContent)),i}let _=e=>{let t,[s,i]=e;return t="textarea"===i.format?n("textarea",{name:s,cols:80,rows:30}):i.enum?n("select",{name:s},i.enum.map(e=>n("option",{textContent:e}))):n("input",{name:s,type:i.format||"text",size:50}),n("p",{},[n("label",{textContent:i.title||s}),t])},r=e=>(t,s)=>{let{messages:i}=a();return new Promise(o=>{let a=n("button",{type:"submit",textContent:i.update}),r=n("button",{type:"button",value:"cancel",textContent:i.cancel}),d=n("div",{},[n("dialog",{className:"prose-editor-dialog"},[n("form",{},[...Object.entries(e).map(_),a,r])])]);t.view.dom.closest(".prose-editor").append(d);let p=d.querySelector("dialog"),c=d.querySelector("form");for(let[t,i]of Object.entries(e))c[t].value=s[t]||i.default||"";r.addEventListener("click",()=>{p.close()}),p.addEventListener("close",()=>{d.remove(),o(null)}),a.addEventListener("click",t=>{t.preventDefault(),c.reportValidity()&&(d.remove(),o(Object.fromEntries(Object.keys(e).map(e=>[e,c[e].value]))))}),p.showModal()})},d=r({href:{type:"string",title:a().messages.url},title:{type:"string",title:a().messages.title}}),p=r({html:{type:"string",title:"HTML",format:"textarea"}});o.hj.create({name:"html",addCommands:()=>({editHTML:()=>e=>{let{editor:t}=e;p(t,{html:t.getHTML()}).then(e=>{e&&t.chain().focus().setContent(e.html,!0).run()})}})}),s("./node_modules/@tiptap/extension-link/dist/index.js").rU.extend({addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),openOnClick:!1,HTMLAttributes:{target:null,rel:"noopener noreferrer nofollow",class:null}}},addCommands(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),addLink:()=>e=>{let{editor:t}=e,s=t.getAttributes(this.name);d(t,s).then(e=>{if(e){let s=t.chain().focus().extendMarkRange(this.name).unsetMark(this.name);s.setMark(this.name,e),s.run()}})}}},addKeyboardShortcuts:()=>({"Mod-k":e=>{let t,{editor:s}=e;(t=window.event)&&t.preventDefault(),s.commands.addLink()}})});var c=s("./node_modules/@tiptap/pm/state/dist/index.js");o.hj.create({name:"noSpellCheck",addProseMirrorPlugins:()=>[new c.Sy({view:e=>new l(e)})]});class l{update(){}destroy(){this.editorView.dom.removeAttribute("spellcheck")}constructor(e){this.editorView=e,this.editorView.dom.setAttribute("spellcheck","false")}}var u=s("./node_modules/@tiptap/pm/view/dist/index.js");o.hj.create({name:"typographic",addProseMirrorPlugins:()=>[k]});let m={"\xa0":"prose-editor-nbsp","\xad":"prose-editor-shy"},x=(e,t)=>{let s=[];if(e.text)for(let i of e.text.matchAll(/(\u00A0|\u00AD)/g)){let e=t+(i.index||0);s.push(u.p.inline(e,e+1,{class:m[i[1]]}))}return s},b=e=>{let t=[];return e.descendants((e,s)=>{t.push(x(e,s))}),u.EH.create(e,t.flat())},k=new c.Sy({state:{init(e,t){let{doc:s}=t;return b(s)},apply(e,t,s){let i=t.map(e.mapping,e.doc);return!function e(t,s,i,o){let n=t.childCount,a=s.childCount;e:for(let _=0,r=0;_<a;_++){let a=s.child(_);for(let e=r,s=Math.min(n,_+3);e<s;e++)if(t.child(e)===a){r=e+1,i+=a.nodeSize;continue e}o(a,i),r<n&&t.child(r).sameMarkup(a)?e(t.child(r),a,i+1,o):a.nodesBetween(0,a.content.size,o,i+1),i+=a.nodeSize}}(s.doc,e.doc,0,(t,s)=>{i=(i=i.remove(i.find(s,s+t.content.size))).add(e.doc,x(t,s))}),i}},props:{decorations:e=>k.getState(e)}}),g=(e,t)=>e.extensionManager.extensions.find(e=>e.name===t),w=e=>[function(e){let t=e.schema,s=g(e,"heading"),i=(s?s.options.levels:[]).map(t=>S(e,t));return(t.nodes.bulletList&&i.push({command(e){e.chain().focus().toggleBulletList().run()},dom:v("format_list_bulleted","unordered list"),active:e=>!1}),t.nodes.orderedList&&i.push({command(e){e.chain().focus().toggleOrderedList().run()},dom:v("format_list_numbered","ordered list"),active:e=>!1}),i.length)?[...i,{command(e){e.chain().focus().setParagraph().run()},dom:v("notes","paragraph"),active:e=>!1}]:[]}(e),function(e){let t=e.schema,s=[];return t.nodes.blockquote&&s.push({command(e){e.chain().focus().toggleBlockquote().run()},dom:v("format_quote","blockquote"),active:e=>e.isActive("blockquote")}),t.nodes.horizontalRule&&s.push({command(e){e.chain().focus().setHorizontalRule().run()},dom:v("horizontal_rule","horizontal rule"),active:e=>!1}),s}(e),function(e){let t=e.schema.marks.link;return t?[{command(e){e.chain().addLink().focus().run()},enabled:e=>!e.state.selection.empty||e.isActive("link"),dom:v("insert_link","insert link"),active:e=>e.isActive(t)},{command(e){e.chain().focus().unsetLink().run()},dom:v("link_off","remove link"),hidden:e=>!e.isActive("link")}]:[]}(e),function(e){let t=(t,s)=>t in e.schema.marks?{command(e){e.chain().focus().toggleMark(t).run()},dom:s,active:e=>e.isActive(t)}:null;return[t("bold",v("format_bold","bold")),t("italic",v("format_italic","italic")),t("underline",v("format_underline","underline")),t("strike",v("format_strikethrough","strike")),t("subscript",v("subscript","subscript")),t("superscript",v("superscript","superscript"))].filter(Boolean)}(e),function(e){let t=t=>({command(e){e.chain().focus().setTextAlign(t).run()},dom:v(`format_align_${t}`,t),active:()=>e.isActive({textAlign:t})});return g(e,"textAlign")?[t("left"),t("center"),t("right"),t("justify")]:null}(e),function(e){if(!g(e,"table"))return[];let t=(t,s)=>({command:t,dom:s,hidden:()=>!e.isActive("table")});return[{command(e){e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!1}).run()},dom:v("grid_on","Insert table")},t(e=>{e.chain().focus().addColumnAfter().run()},f("+Col")),t(e=>{e.chain().focus().deleteColumn().run()},f("-Col")),t(e=>{e.chain().focus().addRowAfter().run()},f("+Row")),t(e=>{e.chain().focus().deleteRow().run()},f("-Row")),t(e=>{e.chain().focus().mergeCells().run()},f("Merge")),t(e=>{e.chain().focus().splitCell().run()},f("Split"))]}(e),g(e,"history")?[{command(e){e.commands.undo()},enabled:e=>e.can().undo(),dom:v("undo","undo"),active:()=>!1},{command(e){e.commands.redo()},enabled:e=>e.can().redo(),dom:v("redo","redo"),active:()=>!1}]:null,g(e,"html")?[{command(e){e.commands.editHTML()},dom:v("code","edit HTML")}]:null].filter(Boolean);o.hj.create({name:"menu",addOptions:()=>({menuItems:w}),addProseMirrorPlugins(){let e=this.editor,t=this.options.menuItems(e);return[new c.Sy({view(){let s=new h(e,t);return e.view.dom.parentNode.insertBefore(s.dom,e.view.dom),s}})]}});class h{update(){this.items.forEach(e=>{let{dom:t,enabled:s=()=>!0,active:i=()=>!1,hidden:o=()=>!1}=e;t.classList.toggle("disabled",!s(this.editor)),t.classList.toggle("active",!!i(this.editor)),t.classList.toggle("hidden",!!o(this.editor))})}destroy(){this.dom.remove()}constructor(e,t){this.items=t.flat(),this.editor=e,this.dom=n("div",{className:"prose-menubar"}),t.filter(e=>e.length).forEach(e=>{let t=n("div",{className:"prose-menubar__group"});this.dom.append(t),e.forEach(e=>{let{dom:s}=e;return t.append(s)})}),this.update(),this.dom.addEventListener("mousedown",t=>{t.preventDefault(),e.view.focus(),this.items.forEach(s=>{let{command:i,dom:o}=s;o.contains(t.target)&&i(e)})})}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n("span",{className:"prose-menubar__button",textContent:e,title:t})}function v(e,t){return n("span",{className:"prose-menubar__button material-icons",textContent:e,title:t})}let S=(e,t)=>{let s=n("span",{className:"prose-menubar__button prose-menubar__button--heading"});return s.append(n("span",{className:"material-icons",textContent:"title",title:`heading ${t}`}),n("span",{className:"level",textContent:`${t}`})),{command:e=>{e.chain().focus().toggleHeading({level:t}).run()},dom:s,active:e=>e.isActive("heading",{level:t})}}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return s[e](n,n.exports,o),n.exports}o.m=s,o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=[],o.O=function(t,s,i,n){if(s){n=n||0;for(var a=e.length;a>0&&e[a-1][2]>n;a--)e[a]=e[a-1];e[a]=[s,i,n];return}for(var _=1/0,a=0;a<e.length;a++){for(var s=e[a][0],i=e[a][1],n=e[a][2],r=!0,d=0;d<s.length;d++)(!1&n||_>=n)&&Object.keys(o.O).every(function(e){return o.O[e](s[d])})?s.splice(d--,1):(r=!1,n<_&&(_=n));if(r){e.splice(a--,1);var p=i();void 0!==p&&(t=p)}}return t},o.j="131",t={131:0},o.O.j=function(e){return 0===t[e]};var n=o.O(void 0,["971"],function(){return o("./src/editor.js")});n=o.O(n);var a=extension_blockquote_dist.V6,_=extension_bold_dist.d8,r=extension_bullet_list_dist.DY,d=dist.fF,p=extension_document_dist.B,c=extension_dropcursor_dist.m,l=dist.ML,u=dist.hj,m=extension_gapcursor_dist.f,x=extension_hard_break_dist.U,b=extension_heading_dist.X,k=extension_history_dist.A,g=extension_horizontal_rule_dist.b,w=dist.VK,h=extension_italic_dist.Tx,f=extension_list_item_dist.H,v=dist.vc,S=dist.NB,R=dist.vx,N=dist.DK,y=extension_ordered_list_dist.GS,T=extension_paragraph_dist.n,A=dist.hD,j=state_dist.Sy,P=extension_strike_dist.Re,E=extension_subscript_dist.a,M=extension_superscript_dist.$,O=extension_text_dist.x,C=dist.fX,L=extension_underline_dist.v,I=dist.nU,B=dist.XP,D=dist.FI,H=dist.OE,F=dist.hT,z=dist.pB,q=dist.Jx,J=dist.cP,U=dist.q_,V=dist.Ov,K=dist.Rw,G=dist.N2,$=dist.b5,Q=dist.RA,X=dist.Kk,Y=dist.qv,W=dist.mL,Z=dist.ar,ee=dist.AW,et=dist._4,es=dist.u9,ei=dist.P6,eo=dist.QC,en=dist.Q2,ea=dist.Nl,e_=dist.d1,er=dist.Jo,ed=dist.IH,ep=dist.TP,ec=dist.tI,el=dist.NY,eu=dist.GF,em=dist.jo,ex=dist.m7,eb=dist.J1,ek=dist.Ry,eg=dist.h$,ew=dist.HM,eh=dist.YD,ef=dist.Q,ev=dist.Eh,eS=dist.nb,eR=dist.Is,eN=dist.cN,ey=dist.iN,eT=dist.zh,eA=dist.rI,ej=dist.Sz,eP=dist.Qr,eE=dist.wU,eM=dist.mf,eO=dist.nq,eC=dist.eE,eL=dist.yw,eI=dist.Ig,eB=dist.bR,eD=dist.EG,eH=dist.Id,eF=dist.PO,ez=dist.Kj,eq=dist.HD,eJ=dist.xh,eU=dist.Tt,eV=dist.Cf,eK=dist.K9,eG=dist.P1,e$=dist.Ee,eQ=dist._z,eX=dist.x2,eY=dist.Ss,eW=dist.i5,eZ=dist.bc,e1=dist.pr,e0=dist.R1,e2=dist.I6,e3=dist.ew,e5=dist.nj,e6=dist.BT,e7=dist.DS,e9=dist.Z7,e8=dist.zK,e4=dist.S0;export{HTML,Link,Menu,NoSpellCheck,Typographic,createTextareaEditor,crel,initializeEditors,menuItemsFromEditor,settings,updateAttrsDialog,a as Blockquote,_ as Bold,r as BulletList,d as CommandManager,p as Document,c as Dropcursor,l as Editor,u as Extension,m as Gapcursor,x as HardBreak,b as Heading,k as History,g as HorizontalRule,w as InputRule,h as Italic,f as ListItem,v as Mark,S as Node,R as NodePos,N as NodeView,y as OrderedList,T as Paragraph,A as PasteRule,j as Plugin,P as Strike,E as Subscript,M as Superscript,O as Text,C as Tracker,L as Underline,I as callOrReturn,B as combineTransactionSteps,D as createChainableState,H as createDocument,F as createNodeFromContent,z as createStyleTag,q as defaultBlockAt,J as deleteProps,U as elementFromString,V as escapeForRegEx,K as extensions,G as findChildren,$ as findChildrenInRange,Q as findDuplicates,X as findParentNode,Y as findParentNodeClosestToPos,W as fromString,Z as generateHTML,ee as generateJSON,et as generateText,es as getAttributes,ei as getAttributesFromExtensions,eo as getChangedRanges,en as getDebugJSON,ea as getExtensionField,e_ as getHTMLFromFragment,er as getMarkAttributes,ed as getMarkRange,ep as getMarkType,ec as getMarksBetween,el as getNodeAtPosition,eu as getNodeAttributes,em as getNodeType,ex as getRenderedAttributes,eb as getSchema,ek as getSchemaByResolvedExtensions,eg as getSchemaTypeByName,ew as getSchemaTypeNameByName,eh as getSplittedAttributes,ef as getText,ev as getTextBetween,eS as getTextContentFromNodes,eR as getTextSerializersFromSchema,eN as injectExtensionAttributesToParseRule,ey as inputRulesPlugin,eT as isActive,eA as isAtEndOfNode,ej as isAtStartOfNode,eP as isEmptyObject,eE as isExtensionRulesEnabled,eM as isFunction,eO as isList,eC as isMacOS,eL as isMarkActive,eI as isNodeActive,eB as isNodeEmpty,eD as isNodeSelection,eH as isNumber,eF as isPlainObject,ez as isRegExp,eq as isString,eJ as isTextSelection,eU as isiOS,eV as markInputRule,eK as markPasteRule,eG as mergeAttributes,e$ as mergeDeep,eQ as minMax,eX as nodeInputRule,eY as nodePasteRule,eW as objectIncludes,eZ as pasteRulesPlugin,e1 as posToDOMRect,e0 as removeDuplicates,e2 as resolveFocusPosition,e3 as rewriteUnknownContent,e5 as selectionToInsertionEnd,e6 as splitExtensions,e7 as textInputRule,e9 as textPasteRule,e8 as textblockTypeInputRule,e4 as wrappingInputRule};